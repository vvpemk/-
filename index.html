<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–≥–∏—Ñ—Ç</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <style>
    .game {
      position: relative;
      width: 100%;
      height: 200px;
      background-color: #f0f0f0;
      overflow: hidden;
      border: 2px solid #ccc;
      margin-top: 20px;
    }

    #dino {
        position: absolute;
        bottom: 0;
        left: 70px;
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 12px;
        transition: bottom 0.6s;
        right: 50px;
    }

    #obstacle {
        position: absolute;
        bottom: 0;
        right: -30px;
        width: 40px;
        height: 40px;
        animation: moveObstacle 2s linear infinite;
        object-fit: cover;
        border-radius: 8px;
    }

    @keyframes moveObstacle {
      0% {
        right: -30px;
      }
      100% {
        right: 100%;
      }
    }

    .jumping {
      animation: jump 0.7s ease-out;
    }

    @keyframes jump {
      0% {
        bottom: 0;
      }
      50% {
        bottom: 200px;
      }
      100% {
        bottom: 0;

      }
    }
  </style>
</head>
<body>
  <div class="container text-center mt-5">
    <div id="start-screen">
      <h1 class="mb-4">–Ω—É —á—Ç–æ, —Ç—ã –≥–æ—Ç–æ–≤–∞?))</h1>
      <button class="btn btn-primary m-2" onclick="startGame()">—è–ø–∏ —è–ø–∏–∏–∏</button>
      <button class="btn btn-secondary m-2" onclick="startGame()">–µ—â–µ —á–µ</button>
    </div>

    <div id="story-text" class="d-none">
      <p>—è —Ç–∞–∫ –∏ –∑–Ω–∞–ª–∞, —á—Ç–æ —Ç—ã –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞)) —á—Ç–æ–∂, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫ ‚Äî —Ç–µ–±–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –∏–≥—Ä—É (–Ω–∞–±—Ä–∞—Ç—å –º–∏–Ω–∏–º—É–º 10 –æ—á–∫–æ–≤)</p>
      <button class="btn btn-warning mt-3" onclick="nextStep()">—É—Ä–æ–æ–æ</button>
    </div>

    <div id="character-select" class="d-none">
        <h2>–≤—ã–±–∏—Ä–∞–π –∑–∞ –∫–æ–≥–æ –∏–≥—Ä–∞—Ç—å: </h2>
        <div class="row justify-content-center">
          <div class="col-md-3">
            <div class="card" onclick="chooseCharacter('Polya')">
              <img src="images/polya_1.jpg" class="card-img-top" alt="Polya" />
              <div class="card-body">
                <h5 class="card-title">–ø–æ–ª–∏–Ω–∫–∞–ø–æ–ª—è üòò</h5>
                <p class="card-text">
                  –í–æ–∑—Ä–∞—Å—Ç: —É–∂–µ 18 üò±üò±üò±<br />
                  –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: —É–±—å–µ—Ç –∏ –≤–æ—Å–∫—Ä–µ—Å–∏—Ç –∫–∞–∂–¥–æ–≥–æ –∫—Ä–∞—Å–æ—Ç–æ–π<br />
                  –ø–æ–±–µ–≥–∞–µ—Ç —Å –≤–∞—à–µ–π —Å–æ–±–∞–∫–æ–π
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card" onclick="chooseCharacter('Katya')">
              <img src="images/katya_1.jpg" class="card-img-top" alt="Katya" />
              <div class="card-body">
                <h5 class="card-title">–∫–∞—å—è üòà</h5>
                <p class="card-text">
                  –í–æ–∑—Ä–∞—Å—Ç: –µ—â–µ 17 üñï<br />
                  –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: –≤–∑–ª–æ–º–∞–µ—Ç –≤–∞—Å –∏ –≤–∞—à –∫–æ–º–ø<br />
                  –º–æ–∂–µ—Ç –ø—Ä–∏—Ç–≤–æ—Ä–∏—Ç—å—Å—è —Å–æ–±–∞–∫–æ–π
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card" onclick="chooseCharacter('Nessa')">
              <img src="images/nessa_1.jpg" class="card-img-top" alt="Nessa" />
              <div class="card-body">
                <h5 class="card-title">–Ω–µ—Å—Å–∏—Ö–∞ ü§ô</h5>
                <p class="card-text">
                  –í–æ–∑—Ä–∞—Å—Ç: —ç—Ç–æ–π —Ç–≤–∞—Ä —Ç–æ–∂–µ 18 üôÑüôÑüôÑ<br />
                  –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: –º–æ–∂–µ—Ç –≤–Ω–µ–∑–∞–ø–Ω–æ —Å–º–µ–Ω–∏—Ç—å –∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä –∫–æ–º–Ω–∞—Ç—ã, –∏ –≥–æ—Ä–æ–¥ –≥–¥–µ –∂–∏–≤–µ—Ç<br />
                  –∑–∞—Å—Ç–∞–≤–∏—Ç –ø—Ä–∏—Ç–≤–æ—Ä–∏—Ç—å—Å—è —Å–æ–±–∞–∫–æ–π
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card" onclick="chooseCharacter('Nika')">
              <img src="images/nika_1.jpg" class="card-img-top" alt="Nika" />
              <div class="card-body">
                <h5 class="card-title">–Ω–∏–∫–∞ —á–∏–∫–∞</h5>
                <p class="card-text">
                  –í–æ–∑—Ä–∞—Å—Ç: 18 –ø–æ–ª–Ω—ã—Ö –≥–æ–¥–æ–≤—ã—Ö –ª–µ—Ç!!!!üòÆüòÆüòÆ<br />
                  –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: —É–º–µ–µ—Ç —á–∏—Ç–∞—Ç—å –ª—é–¥–µ–π –∏ —Å—Ä–∞–∑—É –≤—ã—á–∏—Å–ª–∏—Ç –ø—Å–∏—Ö–æ–ø–∞—Ç–∞ <br />
                  —Å—Ñ–æ—Ç–∫–∞–µ—Ç –≤—Å–µ —á—Ç–æ –¥–≤–∏–∂–µ—Ç—Å—è (–≤ —Ç–æ–º —á–∏—Å–ª–µ —Ç–æ–≥–æ, –∫—Ç–æ –±–µ–≥–∞–µ—Ç —Å —Å–æ–±–∞–∫–æ–π, –∫—Ç–æ –ø—Ä–∏—Ç–≤–æ—Ä—è–µ—Ç—Å—è —Å–æ–±–∞–∫–æ–π, –∫—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∏—Ç–≤–æ—Ä–∏—Ç—å—Å—è —Å–æ–±–∞–∫–æ–π)
                </p>
              </div>
            </div>
          </div>
        </div>
    </div>

    <div id="countdown" class="display-1 d-none"></div>

    <div id="game-container" class="d-none">
        <div class="game">
            <img id="dino" src="images/polya_1.jpg" alt="–ü–µ—Ä—Å–æ–Ω–∞–∂" />
            <img id="obstacle" src="images/cactus.png" alt="–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ" />
        </div>
      <button class="btn btn-success mt-3" onclick="jump()">–ø—Ä—ã–≥ –ø—Ä—ã–≥</button>
      <div class="mt-2">–æ—á–∫–∏: <span id="score">0</span></div>
    </div>

    <div id="final-message" class="d-none">
      <h2 id="final-text"></h2>
      <button class="btn btn-primary mt-3" onclick="restartGame()">–µ—â–µ —Ä–∞–∑</button>

    </div>
  </div>

  <script>
    let score = 0;
    let gameInterval;
  
    function startGame() {
      document.getElementById('start-screen').classList.add('d-none');
      document.getElementById('story-text').classList.remove('d-none');
    }
  
    function nextStep() {
      document.getElementById('story-text').classList.add('d-none');
      document.getElementById('character-select').classList.remove('d-none');
    }
  
    let characterImage = '';
    function chooseCharacter(name) {
      console.log("–í—ã–±—Ä–∞–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂:", name);
      document.getElementById('character-select').classList.add('d-none');
  
      if (name === 'Polya') {
        characterImage = 'images/polya_2.jpg';
      } else if (name === 'Katya') {
        characterImage = 'images/katya_2.jpg';
      } else if (name === 'Nessa') {
        characterImage = 'images/nessa_2.jpg';
      } else if (name === 'Nika') {
        characterImage = 'images/nika_2.jpg';
      }
      startCountdown();
    }
  
    function startCountdown() {
      const countdownEl = document.getElementById('countdown');
      let timeLeft = 3;
      countdownEl.textContent = timeLeft;
      countdownEl.classList.remove('d-none');
  
      const countdownInterval = setInterval(() => {
        timeLeft--;
        if (timeLeft > 0) {
          countdownEl.textContent = timeLeft;
        } else {
          clearInterval(countdownInterval);
          countdownEl.classList.add('d-none');
          document.getElementById('game-container').classList.remove('d-none');
          initGame();
        }
      }, 1000);
    }
  
    function initGame() {
      score = 0;
      const dino = document.getElementById('dino');
      dino.src = characterImage;
      const obstacleImages = ['images/cactus1.jpg', 'images/cactus2.jpg', 'images/cactus3.jpg', 'images/cactus4.jpg', 'images/cactus5.jpg'];
      const obstacle = document.getElementById('obstacle');
      obstacle.src = obstacleImages[Math.floor(Math.random() * obstacleImages.length)];
      const scoreEl = document.getElementById('score');
  
      const gameWidth = window.innerWidth;  // –ü–æ–ª—É—á–∞–µ–º —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á—ë—Ç–æ–≤
      const speed = gameWidth * 0.007; // —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞
  
      let obstacleX = gameWidth;  // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
  
      gameInterval = setInterval(() => {
        const dinoRect = dino.getBoundingClientRect();
        const obstacleRect = obstacle.getBoundingClientRect();
  
        if (
          obstacleRect.left < dinoRect.right &&
          obstacleRect.right > dinoRect.left &&
          dinoRect.bottom >= obstacleRect.top
        ) {
          endGame(false);
        }
  
        obstacleX -= speed; // –î–≤–∏–≥–∞–µ–º –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏
        if (obstacleX < -50) { // –ï—Å–ª–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —ç–∫—Ä–∞–Ω–∞
          obstacleX = gameWidth; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –≤ –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
        }
  
        obstacle.style.left = obstacleX + 'px'; // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
  
      }, 10);
    }
  
    function jump() {
      const dino = document.getElementById('dino');
      if (dino.classList.contains('jumping')) return;
  
      dino.classList.add('jumping');
  
      setTimeout(() => {
        dino.classList.remove('jumping');
        score++;
        document.getElementById('score').textContent = score;
  
        if (score >= 10) {
          endGame(true);
        }
      }, 500);
    }
  
    function endGame(won) {
      clearInterval(gameInterval);
      document.getElementById('game-container').classList.add('d-none');
      document.getElementById('final-message').classList.remove('d-none');
  
      document.getElementById('final-text').textContent = won
        ? "—É—Ä–∞–∞–∞ –º–∞–ª–∞–¥–µ–µ–µ—Ü!!! —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏ –ø–æ–¥–∞—Ä–æ–∫ –ø–æ–ª—É—á–∏—Ç—å)) üéÅ"
        : "–Ω—É —Ç—ã –ø–æ–ø—É—Å–∫ –≤–∞—â–µ–µ–µ–µ üëªüëªüëª –¥–∞–≤–∞–π –µ—â–µ —Ä–∞–∑";
    }
  
    function restartGame() {
      document.getElementById('final-message').classList.add('d-none');
      document.getElementById('score').textContent = "0";
      document.getElementById('game-container').classList.remove('d-none');
      score = 0;
      initGame();
    }
  </script>
  
</body>
</html>
